datasource db {
  provider = "mongodb"
  url      = env("MONGODB_URI")
}

generator client {
  provider = "prisma-client-js"
}

model Users {
  id                        String         @id @default(auto()) @map("_id") @db.ObjectId
  firstName                 String
  lastName                  String
  email                     String         @unique
  role                      UserRole       @default(user)
  phoneNumber               String         @unique
  alternateNumber           String?
  password                  String
  isVerified                Boolean        @default(false)
  isBlocked                 Boolean        @default(false)
  isActive                  Boolean        @default(true)
  images                    ImageGallery[]
  passwordResetToken        String?
  passwordResetTokenExpires DateTime?
  verificationToken         String?
  verificationTokenExpires  DateTime?
}

enum UserRole {
  superadmin
  admin
  user
}

model FamilyTree {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  treeData  Json
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

type ImageGallery {
  url    String
  fileId String
}
